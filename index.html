

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéâ Welcome to Loko üéâ</title>
    <script type="importmap">
    {
        "imports": {
            "three": "https://esm.sh/three@0.160.0?dev",
            "three/": "https://esm.sh/three@0.160.0&dev/",
            "tween.js": "https://esm.sh/@tweenjs/tween.js@21.0.0",
            "canvas-confetti": "https://esm.sh/canvas-confetti@1.9.2"
        }
    }
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #2c1810;
            font-family: 'Arial', sans-serif;
            cursor: default;
        }
        
        #gameContainer {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        
        #ui-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }
        
        .ui-element {
            pointer-events: auto;
        }
        
        #title {
            position: relative; /* Change from absolute */
            font-size: 7rem; /* Slightly smaller for better fit */
            font-weight: bold;
            color: #ffeb3b;
            text-shadow: 0 0 20px #ff9800, 0 0 40px #ff5722, 0 0 60px #e91e63; /* ÿ•ÿ∂ÿßŸÅÿ© ÿ™ŸàŸáÿ¨ Ÿàÿ±ÿØŸä */
            text-align: center;
            animation: titleGlow 3s ease-in-out infinite alternate;
            letter-spacing: 15px; /* ÿ™ÿ®ÿßÿπÿØ ÿßŸÑÿ£ÿ≠ÿ±ŸÅ */
        }
        
        @keyframes titleGlow {
            0% { text-shadow: 0 0 20px #ff9800, 0 0 40px #ff5722; }
            100% { text-shadow: 0 0 30px #ff9800, 0 0 60px #ff5722, 0 0 80px #ffeb3b; }
        }
        
        .button-container {
            position: relative; /* Change from absolute */
            display: flex;
            flex-direction: column;
            gap: 25px; /* Reduce gap between buttons */
            align-items: center;
        }
        
        .game-button {
            padding: 20px 60px;
            font-size: 1.8rem;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
            min-width: 300px;
        }
        
        .game-button:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .game-button:hover:before {
            left: 100%;
        }
        
        #startButton {
            background: linear-gradient(45deg, #e91e63, #f44336);
            color: white;
            animation: bounce 2s ease-in-out infinite;
        }
        
        #startButton:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 24px rgba(233,30,99,0.4);
        }
        
        #rulesButton {
            background: linear-gradient(45deg, #2196f3, #3f51b5);
            color: white;
        }
        
        #rulesButton:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 24px rgba(33,150,243,0.4);
}
.confirmation-buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 30px;
}
.confirmation-buttons .game-button {
    min-width: 150px;
    padding: 15px 30px;
    font-size: 1.2rem;
}
#confirmExitBtn {
    background: linear-gradient(45deg, #f44336, #e91e63);
    color: white;
}
#cancelExitBtn {
    background: linear-gradient(45deg, #9e9e9e, #607d8b);
    color: white;
}
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            border: 2px solid #ffeb3b;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #ffeb3b;
        }
        
        .modal-title {
            font-size: 2rem;
            color: #ffeb3b;
            font-weight: bold;
            text-shadow: 0 0 10px #ff9800;
        }
        
        .close {
            font-size: 2.5rem;
            color: #ffeb3b;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255,235,59,0.1);
        }
        
        .close:hover {
            background: rgba(255,235,59,0.2);
            transform: scale(1.1);
        }
        
        .modal-text {
            color: white;
            font-size: 1.2rem;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
        }
        
        .modal-text h3 {
            color: #ffeb3b;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        @media (max-width: 768px) {
            #title {
                font-size: 4rem;
                letter-spacing: 5px; /* ÿ™ŸÇŸÑŸäŸÑ ÿ™ÿ®ÿßÿπÿØ ÿßŸÑÿ£ÿ≠ÿ±ŸÅ ŸÑŸÑÿ¥ÿßÿ¥ÿßÿ™ ÿßŸÑÿµÿ∫Ÿäÿ±ÿ© */
            }
            
            .game-button {
                font-size: 1.4rem;
                padding: 15px 40px;
                min-width: 250px;
            }
            
            .modal-content {
                padding: 20px;
                width: 95%;
            }
        }
        
        #muteButton {
            position: absolute;
            top: 25px;
            right: 25px;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #ffeb3b;
            color: #ffeb3b;
            border-radius: 50%;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 101;
            transition: all 0.3s ease;
        }
        #muteButton:hover {
            background: rgba(255, 235, 59, 0.2);
            transform: scale(1.1);
        }
        
        #muteButton.muted {
            background: rgba(0, 0, 0, 0.2);
            border-color: #9e9e9e;
            color: #9e9e9e;
        }
        /* Add Questions Scene Styles */
        #addQuestionsScene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            z-index: 500;
            display: none; /* Initially hidden */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .questions-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        #questionsTitle {
            font-size: 2.8rem; /* Slightly reduced font size */
            color: #ffeb3b;
            text-shadow: 0 0 15px #ff9800;
            text-align: center;
            margin: 0;
            white-space: nowrap; /* Ensures title stays on one line */
        }
        
        #questionsList {
            overflow-y: auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            flex-grow: 1; /* Allows this to fill available space */
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            border: 1px solid rgba(255,235,59,0.2);
        }
        .question-input-group {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
        }
        .question-input-group label {
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
            flex-shrink: 0;
        }
        .question-input-group input {
            flex-grow: 1;
            padding: 15px;
            border: 1px solid #ffeb3b;
            background-color: rgba(0,0,0,0.3);
            border-radius: 8px;
            color: white;
            font-size: 1.2rem;
            text-align: right;
        }
        
        .question-input-group input:focus {
            outline: none;
            box-shadow: 0 0 10px #ffeb3b;
        }
        
        /* This container is no longer needed with the new layout */
        
        .field-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 15px 0;
        }
        .circle-btn {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffeb3b;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            padding: 0;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 10px rgba(0,0,0,0.3);
            text-shadow: none;
        }
        #addQuestionBtn, #addPlayerBtn {
            background: #e91e63;
        }
        #addQuestionBtn:hover, #addPlayerBtn:hover {
            transform: scale(1.1);
            background: #f44336;
        }
        #removeQuestionBtn, #removePlayerBtn {
            background: #607d8b;
        }
        #removeQuestionBtn:hover, #removePlayerBtn:hover {
            transform: scale(1.1);
            background: #9e9e9e;
        }
        
        .navigation-buttons {
            display: flex;
            gap: 15px;
            width: 100%;
            flex-shrink: 0;
        }
        .navigation-buttons .game-button {
            flex-grow: 1;
            padding: 15px;
            font-size: 1.2rem;
            min-width: 150px;
        }
#backToHomeBtn, #backToQuestionsBtn {
            background: linear-gradient(45deg, #607d8b, #9e9e9e);
        }
        /* Add Players Scene Styles (Placeholder) */
        #addPlayersScene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            z-index: 600;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        /* Add Players Scene Styles */
        #addPlayersScene .players-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        #playersTitle {
            font-size: 2.8rem;
            color: #ffeb3b;
            text-shadow: 0 0 15px #ff9800;
            text-align: center;
            margin: 0;
            white-space: nowrap;
        }
        #playersTitle, #questionsTitle {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        #playersList {
            overflow-y: auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            flex-grow: 1;
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            border: 1px solid rgba(255,235,59,0.2);
        }
        .player-input-group {
            display: flex;
            flex-direction: column; /* Stack label and input vertically */
            gap: 8px; /* Space between label and input */
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
        }
        .player-input-group label {
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            text-align: right; /* Align text to the right */
            width: 100%;
        }
        .player-input-group input {
            width: 100%; /* Make input take full width */
            padding: 15px;
            border: 1px solid #ffeb3b;
            background-color: rgba(0,0,0,0.3);
            border-radius: 8px;
            color: white;
            font-size: 1.2rem;
            text-align: right;
            box-sizing: border-box; /* Important for width calculation */
        }
        .player-input-group input:focus {
            outline: none;
            box-shadow: 0 0 10px #ffeb3b;
        }
        /* Circle button styles are now generic (.circle-btn) */
        /* Game Screen Styles */
        #gameScreenScene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 700;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        /* Game Screen Styles */
        #gameScreenScene .game-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* This will push elements to top and bottom */
            align-items: center;
            gap: 20px;
            padding: 20px;
            box-sizing: border-box;
        }
        #turnInfo {
            width: 100%;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255,235,59,0.3);
            flex-shrink: 0;
        }
        #playerName {
            font-size: 1.8rem; /* Larger font */
            color: white;
            margin: 0 0 10px 0;
            font-weight: bold;
            text-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }
        #questionText {
            font-size: 1.4rem; /* Larger font */
            color: #ffeb3b;
            margin: 0;
            line-height: 1.5;
            text-shadow: 0 2px 5px rgba(0,0,0,0.5);
            min-height: 4em; /* Reserve space for question */
        }
        
        .action-buttons {
            display: flex;
            width: 100%;
            gap: 15px;
            flex-shrink: 0;
            justify-content: center;
        }
        #correctBtn { background: linear-gradient(45deg, #4caf50, #8bc34a); }
        #incorrectBtn { background: linear-gradient(45deg, #f44336, #ff9800); }
        #nextTurnBtn {
            background: linear-gradient(45deg, #2196f3, #3f51b5);
            display: none; /* Initially hidden */
            max-width: 415px;
            width: 100%;
        }
        #gameExitBtn {
            background: linear-gradient(45deg, #607d8b, #9e9e9e);
            max-width: 415px;
            width: 100%;
        }
        .action-buttons .game-button {
            flex-grow: 1;
            margin: 0;
            padding: 15px;
            font-size: 1.2rem;
            max-width: 200px; /* Prevent buttons from becoming too wide */
            min-width: initial;
        }
        #nextTurnBtn.visible {
            display: block;
        }
        /* Scoreboard Scene Styles */
        #scoreboardScene {
            /* Uses .modal styles */
            z-index: 800; /* Above game screen */
        }
        
        #scoreboardScene .modal-content {
            max-width: 380px !important; /* ÿ™ÿµÿ∫Ÿäÿ± ÿßŸÑÿ≠ÿ¨ŸÖ ÿ®ÿ¥ŸÉŸÑ ŸÖÿ§ŸÉÿØ */
            width: 90% !important;
            padding: 20px !important;
            background: rgba(26, 28, 46, 0.75) !important; /* ÿ≤ŸäÿßÿØÿ© ÿßŸÑÿ¥ŸÅÿßŸÅŸäÿ© */
            backdrop-filter: blur(6px) !important;
        }
        .scoreboard-list {
            margin: 30px 0;
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 40vh;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            border: 1px solid rgba(255,235,59,0.2);
        }
        .score-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            font-size: 1.4rem;
            color: white;
            border-left: 5px solid #ffeb3b;
            transition: all 0.3s ease;
        }
        .score-entry:hover {
            transform: translateX(-10px);
            border-left-color: #e91e63;
        }
        .score-entry .player-name {
            font-weight: bold;
        }
        
        .score-entry .player-score {
            font-weight: bold;
            color: #ffeb3b;
            font-size: 1.6rem;
        }
        #playAgainBtn {
            width: 100%;
            margin-top: 20px;
            background: linear-gradient(45deg, #4caf50, #8bc34a);
        }
    </style>
    <style>
        /* Enter Questions by Player Scene */
        #enterQuestionsByPlayerScene {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            z-index: 550; /* Between add players and game screen */
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        #enterQuestionsContainer {
             width: 100%; height: 100%; display: flex; flex-direction: column; gap: 20px;
        }
        #currentPlayerTitle {
            font-size: 2.5rem; color: #ffeb3b; text-shadow: 0 0 15px #ff9800; text-align: center; margin: 0; white-space: nowrap; display: flex; align-items: center; justify-content: center; gap: 20px;
        }
        #totalQuestionsCounter {
            font-size: 1.5rem;
            color: #9e9e9e;
            background: rgba(0,0,0,0.3);
            padding: 5px 15px;
            border-radius: 10px;
            font-weight: normal;
        }
        #questionsByPlayerList {
            overflow-y: auto; padding: 10px; display: flex; flex-direction: column; gap: 20px; flex-grow: 1; background: rgba(0,0,0,0.2); border-radius: 15px; border: 1px solid rgba(255,235,59,0.2);
        }
        .question-entry {
            background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px;
        }
        .question-entry input {
            width: 100%; padding: 15px; border: 1px solid #ffeb3b; background-color: rgba(0,0,0,0.3); border-radius: 8px; color: white; font-size: 1.2rem; text-align: right; box-sizing: border-box; margin-bottom: 15px;
        }
        .assignment-options {
            display: flex; gap: 10px; justify-content: center;
        }
        .assignment-btn {
            flex-grow: 1; padding: 10px 15px; border: 2px solid #607d8b; background-color: transparent; color: #9e9e9e; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; font-weight: bold;
        }
        .assignment-btn.selected {
            background-color: #4caf50; border-color: #8bc34a; color: white;
        }
        .assigned-player-name {
            color: #8bc34a; font-weight: bold; text-align: center; margin-top: 10px; min-height: 20px;
        }
        /* Player Chooser Modal */
        #playerChooserModal .modal-content { max-width: 400px; }
        .player-choice-list { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
        .player-choice-btn {
            padding: 15px; background: #3f51b5; color: white; border: none; border-radius: 8px; font-size: 1.2rem; cursor: pointer; transition: background 0.2s ease;
        }
        .player-choice-btn:hover { background: #2196f3; }
    </style>
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas"></canvas>
        <div id="ui-overlay">
            <button id="muteButton" class="ui-element">üîä</button>
            <div id="homeScreenContainer" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: flex; flex-direction: column; align-items: center; gap: 40px; width: 100%;">
                <div id="title" class="ui-element">LOKO</div>
                <div class="button-container">
                    <button id="startButton" class="game-button ui-element">ÿßÿ®ÿØÿ£ ÿßŸÑŸÑÿπÿ®ÿ©</button>
                    <button id="rulesButton" class="game-button ui-element">ŸÇŸàÿßŸÜŸäŸÜ ÿßŸÑŸÑÿπÿ®ÿ©</button>
                </div>
            </div>
        </div>
        
        <!-- Rules Modal -->
        <div id="rulesModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title">üìú ŸÇŸàÿßŸÜŸäŸÜ ŸÑÿπÿ®ÿ© Loko</div>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-text">
                    <h3>ŸÉŸäŸÅŸäÿ© ÿßŸÑŸÑÿπÿ®:</h3>
                    <p>1. ÿßÿ®ÿØÿ£ ÿ®ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÑÿßÿπÿ®ŸäŸÜ Ÿàÿ£ÿØÿÆŸÑ ÿ£ÿ≥ŸÖÿßÿ°ŸáŸÖ.</p>
                    <p>2. Ÿäÿ™ŸÜÿßŸàÿ® ŸÉŸÑ ŸÑÿßÿπÿ® ÿπŸÑŸâ ÿ•ÿ∂ÿßŸÅÿ© ÿ£ÿ≥ÿ¶ŸÑÿ™Ÿá. ŸÑŸÉŸÑ ÿ≥ÿ§ÿßŸÑÿå ŸäŸÖŸÉŸÜŸÉ ÿ•ŸÖÿß ÿ™Ÿàÿ¨ŸäŸáŸá ŸÑŸÑÿßÿπÿ® ŸÖÿπŸäŸÜ ÿ£Ÿà ÿ™ÿ±ŸÉŸá ŸÑŸäÿ™ŸÖ ÿ™Ÿàÿ¨ŸäŸáŸá ÿπÿ¥Ÿàÿßÿ¶ŸäÿßŸã.</p>
                    <p>3. <strong>ŸÖŸÑÿßÿ≠ÿ∏ÿ© ŸáÿßŸÖÿ©:</strong> ŸÑÿ∂ŸÖÿßŸÜ ÿßŸÑÿπÿØŸÑÿå Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿßŸÑÿπÿØÿØ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä ŸÑŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ŸÅŸä ŸÜŸáÿßŸäÿ© ÿßŸÑŸÑÿπÿ®ÿ© ŸÇÿßÿ®ŸÑÿßŸã ŸÑŸÑŸÇÿ≥ŸÖÿ© ÿπŸÑŸâ ÿπÿØÿØ ÿßŸÑŸÑÿßÿπÿ®ŸäŸÜ.</p>
                    <p>4. ŸÅŸä ŸÉŸÑ ÿ¨ŸàŸÑÿ©ÿå ÿ≥Ÿäÿ≠ÿµŸÑ ŸÑÿßÿπÿ® ÿπŸÑŸâ ÿ≥ÿ§ÿßŸÑ ŸÖŸàÿ¨Ÿá ÿ•ŸÑŸäŸá ŸÑŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸäŸá.</p>
                    <p>5. ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ© ÿ™ÿ∂ŸäŸÅ ŸÜŸÇÿ∑ÿ© (+1)ÿå ŸàÿßŸÑÿÆÿßÿ∑ÿ¶ÿ© ÿ™ŸÜŸÇÿµ ŸÜŸÇÿ∑ÿ© (-1).</p>
                    <p>6. ÿ™ŸÜÿ™ŸáŸä ÿßŸÑŸÑÿπÿ®ÿ© ÿπŸÜÿØ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©ÿå ŸàÿßŸÑŸÑÿßÿπÿ® ÿµÿßÿ≠ÿ® ÿ£ÿπŸÑŸâ ŸÜŸÇÿßÿ∑ ŸáŸà ÿßŸÑŸÅÿßÿ¶ÿ≤!</p>
                    <h3 style="text-align: center; margin-top: 40px;">ÿßÿ≥ÿ™ŸÖÿ™ÿπ ÿ®ÿßŸÑŸÑÿπÿ® üéâ</h3>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Exit Confirmation Modal -->
    <div id="exitConfirmationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">üëã ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØÿü</div>
                <span class="close-exit">&times;</span>
            </div>
            <div class="modal-text" style="text-align: center;">
                <p>ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ≠ŸÇŸãÿß ÿßŸÑÿÆÿ±Ÿàÿ¨ ŸÖŸÜ ÿßŸÑŸÑÿπÿ®ÿ©ÿü</p>
            </div>
            <div class="confirmation-buttons">
                <button id="confirmExitBtn" class="game-button ui-element">ŸÜÿπŸÖÿå ÿÆÿ±Ÿàÿ¨</button>
                <button id="cancelExitBtn" class="game-button ui-element">ŸÑÿßÿå ÿßŸÑÿ®ŸÇÿßÿ°</button>
            </div>
        </div>
    </div>
    
    <!-- Add Questions Scene -->
    <div id="addQuestionsScene">
        <div class="questions-container">
            <h1 id="questionsTitle">üß† ÿ£ÿ∂ŸÅ ÿ£ÿ≥ÿ¶ŸÑÿ™ŸÉ ŸáŸÜÿß</h1>
            <div id="questionsList">
                <div class="question-input-group">
                    <label for="q1">ÿßŸÑÿ≥ÿ§ÿßŸÑ 1</label>
                    <input type="text" id="q1" name="q1" placeholder="ÿßŸÉÿ™ÿ® ÿ≥ÿ§ÿßŸÑŸÉ...">
                </div>
            </div>
            <div class="field-controls">
                <button id="addQuestionBtn" class="ui-element circle-btn">+</button>
                <button id="removeQuestionBtn" class="ui-element circle-btn">-</button>
            </div>
            <div class="navigation-buttons">
                <button id="backToPlayersBtn" class="game-button ui-element">ÿßŸÑÿ±ÿ¨Ÿàÿπ</button>
                <button id="startFromQuestionsBtn" class="game-button ui-element" style="background: linear-gradient(45deg, #4caf50, #8bc34a);">üöÄ ÿßÿ®ÿØÿ£ ÿßŸÑŸÑÿπÿ®ÿ©</button>
            </div>
        </div>
    </div>
    <!-- Add Players Scene (Placeholder) -->
    <div id="addPlayersScene">
        <div class="players-container">
            <h1 id="playersTitle">üë• ÿ£ÿ∂ŸÅ ÿßŸÑŸÑÿßÿπÿ®ŸäŸÜ</h1>
            <div id="playersList">
                <div class="player-input-group">
                    <label for="p1">ÿßŸÑŸÑÿßÿπÿ® 1</label>
                    <input type="text" id="p1" name="p1" placeholder="ÿßŸÉÿ™ÿ® ÿßÿ≥ŸÖ ÿßŸÑŸÑÿßÿπÿ®...">
                </div>
            </div>
            <div class="field-controls">
                <button id="addPlayerBtn" class="ui-element circle-btn">+</button>
                <button id="removePlayerBtn" class="ui-element circle-btn">-</button>
            </div>
            <div class="navigation-buttons">
                 <button id="backToHomeFromPlayersBtn" class="game-button ui-element">ÿßŸÑÿ±ÿ¨Ÿàÿπ</button>
                 <button id="nextFromPlayersBtn" class="game-button ui-element" style="background: linear-gradient(45deg, #2196f3, #3f51b5);">ÿßŸÑÿ™ÿßŸÑŸä</button>
            </div>
        </div>
    </div>
    <!-- Enter Questions by Player Scene -->
    <div id="enterQuestionsByPlayerScene">
        <div id="enterQuestionsContainer">
            <h1 id="currentPlayerTitle">
                <span id="currentPlayerName">ÿßŸÑŸÑÿßÿπÿ®: ...</span>
                <span id="totalQuestionsCounter" title="ÿ•ÿ¨ŸÖÿßŸÑŸä ÿπÿØÿØ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿ∂ÿßŸÅÿ© ÿ≠ÿ™Ÿâ ÿßŸÑÿ¢ŸÜ"></span>
            </h1>
            <div id="questionsByPlayerList">
                <!-- Question entries will be dynamically added here -->
            </div>
            <div class="field-controls">
                <button id="addAnotherQuestionBtn" class="ui-element circle-btn" style="background: #e91e63;">+</button>
                <button id="removeAnotherQuestionBtn" class="ui-element circle-btn" style="background: #607d8b;">-</button>
            </div>
            <div class="navigation-buttons">
                <button id="nextPlayerBtn" class="game-button ui-element" style="background: linear-gradient(45deg, #2196f3, #3f51b5);">ÿßŸÑÿ™ÿßŸÑŸä</button>
            </div>
        </div>
    </div>
    <!-- Player Chooser Modal -->
    <div id="playerChooserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">üéØ ÿßÿÆÿ™ÿ± ŸÑÿßÿπÿ®Ÿãÿß</div>
                <span class="close-player-chooser">&times;</span>
            </div>
            <div id="playerChoiceList" class="player-choice-list">
                <!-- Player buttons will be dynamically added here -->
            </div>
        </div>
    </div>
    <!-- Game Screen Scene (Placeholder) -->
    <div id="gameScreenScene">
        <div class="game-container">
            <div id="turnInfo" class="ui-element">
                <h2 id="playerName">üéØ ÿßŸÑŸÑÿßÿπÿ®: ...</h2>
                <p id="questionText">‚ùì ÿßŸÑÿ≥ÿ§ÿßŸÑ: ...</p>
            </div>
            <div style="flex-grow: 1;">
                <!-- This is just a spacer to push buttons to the bottom -->
            </div>
            <div class="button-container" style="position: static; transform: none; width: 100%; display: flex; flex-direction: column; align-items: center; gap: 15px; flex-shrink: 0; padding-bottom: 20px;">
                <div class="action-buttons">
                    <button id="correctBtn" class="game-button ui-element">‚úÖ ÿ•ÿ¨ÿßÿ®ÿ© ÿµÿ≠Ÿäÿ≠ÿ©</button>
                    <button id="incorrectBtn" class="game-button ui-element">‚ùå ÿ•ÿ¨ÿßÿ®ÿ© ÿÆÿßÿ∑ÿ¶ÿ©</button>
                </div>
                <button id="nextTurnBtn" class="game-button ui-element" style="margin-top: 0;">ÿßŸÑÿ™ÿßŸÑŸä</button>
                <button id="gameExitBtn" class="game-button ui-element" style="margin-top: 0;">ÿÆÿ±Ÿàÿ¨</button>
            </div>
        </div>
    </div>
    <!-- Scoreboard Scene -->
    <div id="scoreboardScene" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="border-bottom: none; justify-content: center; padding-bottom: 0;">
                <div class="modal-title">üèÜ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨ ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ© üèÜ</div>
            </div>
            <div id="winnerInfo" style="text-align: center; margin: 20px 0;">
                <h2 id="winnerText" style="font-size: 2rem; color: #ffeb3b; margin: 0;">ÿßŸÑŸÅÿßÿ¶ÿ≤ ŸáŸà...</h2>
                <p id="winnerName" style="font-size: 2.5rem; color: white; font-weight: bold; margin: 10px 0;"></p>
            </div>
            <div id="scoreboardList" class="scoreboard-list">
                <!-- Player scores will be injected here dynamically -->
            </div>
            <button id="playAgainBtn" class="game-button ui-element">ÿßŸÑÿπÿ® ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ</button>
        </div>
    </div>
    
    <audio id="backgroundMusic" loop src="https://codeskulptor-demos.commondatastorage.googleapis.com/descent/background%20music.mp3"></audio>
    
    <script type="module" src="main.js"></script>
    <script src="https://storage.googleapis.com/rosebud_staticfiles/ChatManager.js"></script>
    <script src="https://storage.googleapis.com/rosebud_staticfiles/ImageGenerator.js"></script>
    <script src="https://storage.googleapis.com/rosebud_staticfiles/ProgressLogger.js"></script>
    <script src="https://storage.googleapis.com/rosebud_staticfiles/OGP.js"></script>
</body>
</html>

